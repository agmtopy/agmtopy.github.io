---
title: 分析BeanFactoryPostProcessor
date: 2018-03-24 22:32:30
categories: spring
tags: spring源代码
---

# 分析BeanFactoryPostProcessor

**BeanFactoryPostProcessor**是在注册完成**BeanDifinition**后执行的接口，该接口就只有一个方法**postProcessBeanFactory**

```java
    public interface BeanFactoryPostProcessor {
        void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException;
    }
```

## 子类PropertyPlaceholderConfigurer

**PropertyPlaceholderConfigurer**已过时

**PropertyResourceConfigurer**帮着处理好属性后传入子类的方法进行执行

```java
	public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {
		try {
			Properties mergedProps = mergeProperties();

			// Convert the merged properties, if necessary.
			convertProperties(mergedProps);

			// Let the subclass process the properties.
			processProperties(beanFactory, mergedProps);
		}
		catch (IOException ex) {
			throw new BeanInitializationException("Could not load properties", ex);
		}
	}

```

主要用法是用于不同的环境注入不同的环境参数，在springBoot中可以用**envAbstractEnvironment**来进行替代


